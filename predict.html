<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BugsOut | Radiation Intelligence</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root { --gold-primary: #F7D116; --gold-glow: rgba(247, 209, 22, 0.4); --text-bright: #FFFFFF; }
        
        body, html { 
            height: 100vh; margin: 0; overflow: hidden; 
            background: #000 url('https://ic.pics.livejournal.com/ypylypenko/74196954/451938/451938_original.gif') no-repeat center center fixed; 
            background-size: cover; color: var(--text-bright); font-family: 'Segoe UI', Arial, sans-serif; 
        }

        /* Darker overlay for better text contrast */
        .overlay { background: rgba(0, 0, 0, 0.92); height: 100vh; display: flex; align-items: center; flex-direction: column; justify-content: center; }
        
        .brand-header { color: var(--gold-primary); font-weight: 900; letter-spacing: 5px; margin-bottom: 5px; text-shadow: 0 0 10px var(--gold-glow); text-transform: uppercase; font-size: 2.5rem; }
        .brand-subline { font-size: 0.8rem; color: #BBB; letter-spacing: 3px; margin-bottom: 30px; font-weight: bold; }

        /* Card: Swapped Dark Red for Pure Black/Gold */

        .card { 
    background: rgba(10, 10, 10, 0.98); 
    /* Changed border from var(--gold-primary) to Light Red */
    border: 2px solid #ff4d4d; 
    border-radius: 15px; 
    
    /* This moves the box up - a negative margin-top pulls it higher */
    margin-top: -74px; 
    
    /* Updated shadow to include a red glow to match the border */
    box-shadow: 0 0 30px rgba(255, 77, 77, 0.3); 
    
    transition: all 0.3s ease; /* Optional: makes the move look smooth */
}

        /* High Visibility Inputs */
        .form-control { 
            background: #111 !important; 
            color: #FFF !important; 
            border: 2px solid #333; 
            font-family: 'Courier New', monospace; 
            font-weight: bold;
        }
        .form-control:focus { border-color: var(--gold-primary); box-shadow: 0 0 10px var(--gold-glow); }

        .btn-analyze { 
            background: var(--gold-primary); color: #000; font-weight: 900; border: none; 
            letter-spacing: 1px; font-size: 1.1rem; 
        }
        .btn-analyze:hover { background: #FFF; transform: translateY(-2px); }

        /* Wikipedia Link - Pure White & Bold */
        .wiki-link { color: #FFF !important; text-decoration: underline !important; font-weight: 800; font-size: 1rem; }
        
        /* Science/Specs Box */
        .science-box { 
            font-size: 1rem; border-left: 4px solid var(--gold-primary); 
            padding-left: 20px; margin-bottom: 25px; color: #EEE; line-height: 1.6;
        }
        .spec-label { color: var(--gold-primary); font-size: 0.9rem; font-weight: 900; text-transform: uppercase; margin-bottom: 5px; display: block; }
        
        .text-gold { color: var(--gold-primary) !important; }
        hr { border-top: 1px solid var(--gold-primary); opacity: 0.3; }
    </style>
</head>
<body>
<div class="overlay">
    <h1 class="brand-header">BUGSOUT SYSTEMS</h1>
    <p class="brand-subline">RADIATION INTELLIGENCE & DATA PURIFICATION</p>

    <div class="container-fluid px-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-5">
                <div class="card p-4">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <span class="spec-label">Terminal ID: BO-GLOBAL</span>
                        <span class="badge bg-warning text-dark fw-bold">ENCRYPTED LINK</span>
                    </div>
                    <form method="POST">
                        {% csrf_token %}
                        <textarea name="bulk_array" class="form-control mb-3" rows="3" placeholder="Paste 10-feature sensor array here..." required></textarea>
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-analyze flex-grow-1 py-3">RUN SYSTEM SCAN</button>
                            <button type="button" class="btn btn-outline-light fw-bold" data-bs-toggle="modal" data-bs-target="#historyModal">ðŸ“œ AUDIT LOGS</button>
                        </div>
                    </form>
                    {% if result %}
                    <div class="mt-4 p-4 border border-warning rounded bg-dark text-center">
                        <span class="spec-label">Scan Result Verified</span>
                        <h2 class="mb-2 text-gold fw-bold">{{ result|upper }} IDENTIFIED</h2>
                        {% if result == "Gamma" %}
                            <a href="https://en.wikipedia.org/wiki/Gamma-ray_astronomy" target="_blank" class="wiki-link">Wiki: Scientific Specifications</a>
                        {% else %}
                            <a href="https://en.wikipedia.org/wiki/Hadron" target="_blank" class="wiki-link">Wiki: Hadron Particle Physics</a>
                        {% endif %}
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="col-lg-7">
                <h3 class="mb-3 text-gold fw-bold">SVM Technical Specs</h3>
                <div class="science-box">
                    <strong>BugsOut Core Architecture:</strong> This Support Vector Machine uses a non-linear decision boundary to separate high-energy Gamma signals from Hadronic background noise. 
                    We process 10 geometric features in real-time to ensure satellite and medical data integrity.
                </div>
                
                

                <div class="row g-4 mt-2">
                    <div class="col-6">
                        <span class="spec-label">Company Profile</span>
                        <p class="fw-bold m-0">BugsOut Systems</p>
                        <p class="text-secondary small">Eliminating "Bugs" in Space Data.</p>
                    </div>
                    <div class="col-6">
                        <span class="spec-label">Global HQ</span>
                        <p class="small m-0">Bangalore Sector, Intelligence Hub</p>
                        <p class="text-secondary small">support@bugsout.sys</p>
                    </div>
                </div>
                
                <hr class="mt-4">
                <div class="d-flex justify-content-between align-items-center mt-3">
                    <button class="btn btn-sm btn-outline-warning fw-bold" onclick="alert('System: BugsOut v2.4\nKernel: SVM-RBF\nSecurity: Verified')">HARDWARE STATUS</button>
                    <p class="mb-0 fw-bold" style="font-size: 0.8rem; color: #777;">&copy; 2026 BUGSOUT SYSTEMS | DATA SECURED</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="historyModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered">
        <div class="modal-content bg-black border-warning text-white">
            <div class="modal-header border-secondary">
                <h5 class="modal-title text-gold fw-bold">BugsOut Security Audit Logs</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body p-0">
                <div class="table-responsive">
                    <table class="table table-dark table-hover mb-0" style="font-size: 0.85rem;">
                        <thead class="text-gold border-secondary">
                            <tr>
                                <th>Timestamp</th><th>Status</th><th>fLen</th><th>fWid</th><th>fSize</th><th>fConc</th><th>fC1</th><th>fAsy</th><th>fM3L</th><th>fM3T</th><th>fAlp</th><th>fDst</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for p in history %}
                            <tr class="border-secondary">
                                <td class="text-white fw-bold">{{ p.created_at|date:"H:i:s" }}</td>
                                <td class="fw-bold {% if p.prediction_label == 'Gamma' %}text-success{% else %}text-danger{% endif %}">{{ p.prediction_label }}</td>
                                <td>{{ p.fLength|floatformat:1 }}</td><td>{{ p.fWidth|floatformat:1 }}</td><td>{{ p.fSize|floatformat:1 }}</td>
                                <td>{{ p.fConc|floatformat:2 }}</td><td>{{ p.fConc1|floatformat:2 }}</td><td>{{ p.fAsym|floatformat:1 }}</td>
                                <td>{{ p.fM3Long|floatformat:1 }}</td><td>{{ p.fM3Trans|floatformat:1 }}</td>
                                <td>{{ p.fAlpha|floatformat:1 }}</td><td>{{ p.fDist|floatformat:1 }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer border-secondary">
                <form action="{% url 'delete_history' %}" method="POST" class="me-auto">{% csrf_token %}<button type="submit" class="btn btn-danger btn-sm fw-bold">WIPE DATABASE</button></form>
                <a href="{% url 'export_csv' %}" class="btn btn-success btn-sm fw-bold text-dark">DOWNLOAD CSV REPORT</a>
                <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">CLOSE</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>